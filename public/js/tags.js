document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("tags-container"),t=document.getElementById("selected-tags"),a=document.getElementById("new-tags"),l=document.getElementById("new-tag-name"),s=document.getElementById("new-tag-description"),i=document.getElementById("add-new-tag"),d=[],n=t.value?t.value.split(",").filter(e=>e):[];t.value&&(n=t.value.split(",").filter(e=>e)).forEach(t=>{let a=e.querySelector(`[data-id="${t}"]`);a&&(a.classList.add("bg-[color:#FCF403]"),a.classList.remove("bg-gray-300"))}),e.addEventListener("click",e=>{if(e.target.classList.contains("tag")){let a=e.target,l=a.getAttribute("data-id");n.includes(l)?(n=n.filter(e=>e!==l),a.classList.remove("bg-[color:#FCF403]"),a.classList.add("bg-gray-300")):(n.push(l),a.classList.remove("bg-gray-300"),a.classList.add("bg-[color:#FCF403]")),t.value=n.join(",")}}),i.addEventListener("click",()=>{let t=l.value.trim(),i=s.value.trim();if(t&&i){let n={name:t,description:i},r=document.createElement("span");r.className="tag bg-[color:#FCF403] text-black-800 text-sm font-bold px-2 py-1 rounded cursor-pointer",r.textContent=t;let c=d.length;r.setAttribute("data-index",c),r.addEventListener("click",()=>{let e=parseInt(r.getAttribute("data-index"));r.classList.contains("bg-[color:#FCF403]")?(r.classList.remove("bg-[color:#FCF403]"),r.classList.add("bg-gray-300"),delete d[e]):(r.classList.remove("bg-gray-300"),r.classList.add("bg-[color:#FCF403]"),d[e]=n),a.value=JSON.stringify(d.filter(e=>e))}),e.appendChild(r),d.push(n),l.value="",s.value="",a.value=JSON.stringify(d)}else alert("Please provide both a name and a description for the new tag.")})});